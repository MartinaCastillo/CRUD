
<!-- 
  HTML
    HEAD
      imports CSS
    BODY
      APP
      imports JS


-->
<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet">
    <link rel="stylesheet"
      href="https://unpkg.com/bootstrap-table@1.18.3/dist/bootstrap-table.min.css">
    <link type="text/css" rel="stylesheet" href="style.css">


    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous">

    <title>CRUD PRESENTACION</title>
  </head>
  <body>
    <div class="header">
      <h3>
        <span class="material-icons">
          dashboard
        </span>
        CRUD DE PRUEBA
      </h3>
    </div>
      
    


<!--Acordeon -->
<div class="container">
<div class="accordion accordion-flush" id="acordeon">
  <div class="accordion-item">
      <h2 class="accordion-header" id="flush-headingOne">
        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseOne" aria-expanded="false" aria-controls="flush-collapseOne">
          Agregar
        </button>
      </h2>
      <div id="flush-collapseOne" class="accordion-collapse collapse" aria-labelledby="flush-headingOne" data-bs-parent="#acordeon">
        <div class="accordion-body">
  <!--INICIO  Form para agregar un producto -->
          <div class="container">
            <h2>Form para agregar un producto:</h2>
            <form id="formulario" action="" name="formAgregar" class="needs-validation" novalidate>
                <div class="form-group">
                    <label for="title">Titulo:</label>
                    <input type="text" class="form-control" id="title" required>
                    <div class="invalid-feedback">
                      Ingrese un titulo, por favor.
                    </div>
                    <div class="valid-feedback">
                      Campo completado!
                    </div>
                </div>
                  <div class="form-group">
                     <label>Precio:</label>
                    <input type="number" id="price" name="price" class="form-control" required pattern="[0-9]+">
                    <div class="invalid-feedback">
                      Ingrese un precio valido, por favor.
                    </div>
                    <div class="valid-feedback">
                      Campo completado!
                    </div>
                  </div>                   
                <div class="form-group">
                    <label>Descripción:</label>
                    <input type="text" name="description" id="description" class="form-control" required>
                    <div class="invalid-feedback">
                      Ingrese una descripcion, por favor.
                    </div>
                    <div class="valid-feedback">
                      Campo completado!
                    </div>
                </div>
                <div class="form-group">
                    <label>URL de una imagen del producto:</label>
                    <input type="text" name="image" id="image" class="form-control" required>
                    <div class="invalid-feedback">
                      Ingrese un url, por favor.
                    </div>
                    <div class="valid-feedback">
                      Campo completado!
                    </div>
                </div>
                <div class="form-group">
                    <label>Categoria:</label>
                    <input type="text" name="category" id="category" class="form-control" required>
                    <div class="invalid-feedback">
                      Ingrese una categoria, por favor.
                    </div>
                    <div class="valid-feedback">
                      Campo completado!
                    </div>
                </div>  
              <button type="submit" class="btn btn-primary mt-3" id="agregar">Agregar Producto</button>

            </form>
        </div>
  <!-- /FINAL Form para agregar un producto -->
      </div>
    </div>
    <div class="accordion-item">
      <h2 class="accordion-header" id="flush-headingTwo">
        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwo" aria-expanded="false" aria-controls="flush-collapseTwo">
          Modificar
        </button>
      </h2>
      <div id="flush-collapseTwo" class="accordion-collapse collapse" aria-labelledby="flush-headingTwo" data-bs-parent="#acordeon">
        <div class="accordion-body">
<!--INICIO Form para modificar un producto -->
          <div class="container">
            <h2>Form para modificar un producto:</h2>
            <form id="formModificar" action="" name="formModificar" class="needs-validation" novalidate>
                <div class="form-group">
                    <label>Id del producto a modificar:</label>
                    <input type="number" id="idProduct" name="idProduct" class="form-control" required>
                    <div class="invalid-feedback">
                      Ingrese un ID, por favor.
                    </div>
                    <div class="valid-feedback">
                      Campo completado!
                    </div>
                </div>
                <div class="form-group">
                    <label>Titulo:</label>
                    <input type="text" id="titleM" name="title" class="form-control" required>
                    <div class="invalid-feedback">
                      Ingrese un titulo, por favor.
                    </div>
                    <div class="valid-feedback">
                      Campo completado!
                    </div>
                </div>
                <div class="form-group">
                    <label>Precio:</label>
                    <input type="number" id="priceM" name="price" class="form-control" pattern="[0-9]+" required>
                    <div class="invalid-feedback">
                      Ingrese un precio valido, por favor.
                    </div>
                    <div class="valid-feedback">
                      Campo completado!
                    </div>
                </div>
                <div class="form-group">
                    <label>Descripción:</label>
                    <input type="text" name="description" id="descriptionM" class="form-control" required>
                    <div class="invalid-feedback">
                      Ingrese una descripcion, por favor.
                    </div>
                    <div class="valid-feedback">
                      Campo completado!
                    </div>
                </div>
                <div class="form-group">
                    <label>URL de una imagen del producto:</label>
                    <input type="text" name="image" id="imageM" class="form-control" required>
                    <div class="invalid-feedback">
                      Ingrese una URL, por favor.
                    </div>
                    <div class="valid-feedback">
                      Campo completado!
                    </div>
                </div>
                <div class="form-group">
                    <label>Categoria:</label>
                    <input type="text" name="category" id="categoryM" class="form-control" required>
                    <div class="invalid-feedback">
                      Ingrese una categoria, por favor.
                    </div>
                    <div class="valid-feedback">
                      Campo completado!
                    </div>
                </div>
            <button type="submit" class="btn btn-primary mt-3" id="modificar">Modificar Producto</button>
          </form>
        </div>
  <!-- /FINAL Form para modificar un producto -->
      </div>
    </div>
    </div>
    <div class="accordion-item">
      <h2 class="accordion-header" id="flush-headingThree">
        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseThree" aria-expanded="false" aria-controls="flush-collapseThree">
          Eliminar
        </button>
      </h2>
      <div id="flush-collapseThree" class="accordion-collapse collapse" aria-labelledby="flush-headingThree" data-bs-parent="#acordeon">
        <div class="accordion-body">
  <!-- /INICIO Form para eliminar un producto -->
          <div class="container">
            <h2>Form para eliminar un producto:</h2>
            <form id="formEliminar" action="" name="formEliminar" class="needs-validation" novalidate>
              <div class="form-group">
                  <label>Id del producto a eliminar:</label>
                  <input type="number" id="idProductE" name="idProduct" class="form-control" required>
                  <div class="invalid-feedback">Ingrese un ID</div>
                  <div class="valid-feedback">ID valido!</div>
              </div>
            <button type="submit" class="btn btn-primary mt-3" id="eliminar">Eliminar Producto</button>
            </form>
        </div>
  <!-- /FINAL Form para eliminar un producto -->
        </div>
    </div>
  </div>
</div>
       
      </div>
      </div>  
  </div>


<!---*******LOADER*******-->
 <div id="content"></div>
<!---*******LOADER*******-->


<div class="divPro">
    <h3>TABLA PRODUCTOS</h3>
</div>
        <div class="container">
          <table id="table" 
          data-page-size='5' 
          class="table table-bordered table-striped table-responsive-stack">
          </table>
        </div>

 <div class="divUs">
   <h3>TABLA USUARIOS</h3>
 </div>
 <div class="container">
   <table id="tableU"
    data-page-size="5"
    class="table table-bordered table-striped table-responsive-stack">
    </table>
 </div>
    
    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script
      src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"></script>
    <script
      src="https://unpkg.com/bootstrap-table@1.18.3/dist/bootstrap-table.min.js"></script>
    <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="./script.js">
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
    crossorigin="anonymous"></script>
    
    <script>
      // Example starter JavaScript for disabling form submissions if there are invalid fields
(function () {
  'use strict'

  // Fetch all the forms we want to apply custom Bootstrap validation styles to
  var forms = document.querySelectorAll('.needs-validation')

  // Loop over them and prevent submission
  Array.prototype.slice.call(forms)
    .forEach(function (form) {
      form.addEventListener('submit', function (event) {
        if (!form.checkValidity()) {
          event.preventDefault()
          event.stopPropagation()
        } else {
           // Hide the delete button
           document.getElementById('agregar').style.display = 'none';
                            // Connect with the Api for deleted a product
                            $.ajax({
                                url: 'https://fakestoreapi.com/products' + document.getElementById("id").value,
                                type: 'DELETE',
                                dataType: 'json',
                                beforeSend: function () {
                                    // Show the loader button
                                    document.getElementById('content').style.display = 'block';
                                },
                                success: function (json) {
                                    // Hide the loader button
                                    document.getElementById('content').style.display = 'none';
                                    // Show the loader button 
                                    document.getElementById('agregar').style.display = 'block';
                                    // Show the success message
                                    alert('The product was deleted successfully!!');
                                },
                                error: function (xhr, status) {
                                    // Hide the loader button 
                                    document.getElementById('content').style.display = 'none';
                                    // Show the delete button 
                                    document.getElementById('agregar').style.display = 'block';
                                    // Show the error message
                                    alert('Error!!');
                                },
                            });
                            event.preventDefault()
                            event.stopPropagation()
                        }
                        form.classList.add('was-validated')
      }, false)
    })
})()
    </script>
   
  </body>
</html>